{"paragraphs":[{"text":"%md\n\n## Test - Zonas wifi en Colombia\n\nDataset tomado de [datos.gov.co](https://www.datos.gov.co/Ciencia-Tecnolog-a-e-Innovaci-n/ZONAS-WIFI-GRATIS-PARA-LA-GENTE/7qac-54sj), GeoJson de los departamentos de Colombia tomado de [john-guerra](https://gist.github.com/john-guerra/43c7656821069d00dcbc).\n\nEl DataSet ya contiene a que departamento pernetece cada zona, la idea es validar si la zona está ubicada en el departamento que dice estar.","user":"anonymous","dateUpdated":"2018-07-27T22:41:00+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h2>Test - Zonas wifi en Colombia</h2>\n<p>Dataset tomado de <a href=\"https://www.datos.gov.co/Ciencia-Tecnolog-a-e-Innovaci-n/ZONAS-WIFI-GRATIS-PARA-LA-GENTE/7qac-54sj\">datos.gov.co</a>, GeoJson de los departamentos de Colombia tomado de <a href=\"https://gist.github.com/john-guerra/43c7656821069d00dcbc\">john-guerra</a>.</p>\n<p>El DataSet ya contiene a que departamento pernetece cada zona, la idea es validar si la zona está ubicada en el departamento que dice estar.</p>\n"}]},"apps":[],"jobName":"paragraph_1532554748373_830955830","id":"20180725-213908_696921832","dateCreated":"2018-07-25T21:39:08+0000","dateStarted":"2018-07-27T22:41:00+0000","dateFinished":"2018-07-27T22:41:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:193"},{"text":"import magellan._\nimport org.apache.spark.sql.magellan.dsl.expressions._\n\nimport org.apache.spark.sql.Row\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._","user":"anonymous","dateUpdated":"2018-07-27T23:08:08+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import magellan._\nimport org.apache.spark.sql.magellan.dsl.expressions._\nimport org.apache.spark.sql.Row\nimport org.apache.spark.sql.functions._\nimport org.apache.spark.sql.types._\n"}]},"apps":[],"jobName":"paragraph_1532455931324_-1764596519","id":"20180724-181211_2018422905","dateCreated":"2018-07-24T18:12:11+0000","dateStarted":"2018-07-27T23:08:08+0000","dateFinished":"2018-07-27T23:09:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:194"},{"text":"//El dataset de zonas tiene el siguiente esquema\nval schema2 = StructType(Array(\n    StructField(\"No\", IntegerType, false),\n    StructField(\"PROYECTO\", StringType, false),\n    StructField(\"CATEGORIA_DE_DEPARTAMENTO\", StringType, false),\n    StructField(\"CATEGORIA_DE_MUNICIPIO\", StringType, false),\n    StructField(\"REGION\", StringType, false),\n    StructField(\"CODIGO_DANE_DEL_DEPARTAMENTO\", IntegerType, false),\n    StructField(\"DEPARTAMENTO\", StringType, false),\n    StructField(\"CODIGO_DANE_DEL_MUNICIPIO\", IntegerType, false),\n    StructField(\"MUNICIPIO\", StringType, false),\n    StructField(\"LOCALIDAD/TRONCAL\", StringType, false),\n    StructField(\"CANTIDAD\", IntegerType, false),\n    StructField(\"NOMBRE_ZONA_WIFI\", StringType, false),\n    StructField(\"ID_ZONA_WIFI\", IntegerType, false),\n    StructField(\"DIRECCION\", StringType, false),\n    StructField(\"LONGITUD\", DoubleType, false),\n    StructField(\"LATITUD\", DoubleType, false),\n    StructField(\"FECHA_DE_APROBACION\", StringType, false),\n    StructField(\"ESTADO_DE_LA_ZONA\", StringType, false),\n    StructField(\"ZONA_INAGURADA\", StringType, false)))","user":"anonymous","dateUpdated":"2018-07-27T23:09:02+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"schema2: org.apache.spark.sql.types.StructType = StructType(StructField(No,IntegerType,false), StructField(PROYECTO,StringType,false), StructField(CATEGORIA_DE_DEPARTAMENTO,StringType,false), StructField(CATEGORIA_DE_MUNICIPIO,StringType,false), StructField(REGION,StringType,false), StructField(CODIGO_DANE_DEL_DEPARTAMENTO,IntegerType,false), StructField(DEPARTAMENTO,StringType,false), StructField(CODIGO_DANE_DEL_MUNICIPIO,IntegerType,false), StructField(MUNICIPIO,StringType,false), StructField(LOCALIDAD/TRONCAL,StringType,false), StructField(CANTIDAD,IntegerType,false), StructField(NOMBRE_ZONA_WIFI,StringType,false), StructField(ID_ZONA_WIFI,IntegerType,false), StructField(DIRECCION,StringType,false), StructField(LONGITUD,DoubleType,false), StructField(LATITUD,DoubleType,false), Struct..."}]},"apps":[],"jobName":"paragraph_1532456447032_1962219769","id":"20180724-182047_1530423130","dateCreated":"2018-07-24T18:20:47+0000","dateStarted":"2018-07-27T23:09:02+0000","dateFinished":"2018-07-27T23:09:03+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:195"},{"text":" //Se cra el dataframe añadiendo la columna de estructuda de datos Point\n val zonas = sqlContext.read\n      .format(\"com.databricks.spark.csv\")\n      .option(\"comment\", \"V\")\n      .option(\"mode\", \"DROPMALFORMED\")\n      .schema(schema2)\n      .load(\"/files/ZONAS_WIFI_GRATIS_PARA_LA_GENTE4.csv\")\n      .withColumn(\"point\", \n       point($\"LONGITUD\",$\"LATITUD\"))\n      .cache()","user":"anonymous","dateUpdated":"2018-07-27T23:09:06+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"zonas: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [No: int, PROYECTO: string ... 18 more fields]\n"}]},"apps":[],"jobName":"paragraph_1532456079869_180110480","id":"20180724-181439_752452238","dateCreated":"2018-07-24T18:14:39+0000","dateStarted":"2018-07-27T23:09:06+0000","dateFinished":"2018-07-27T23:09:11+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:196"},{"text":"//Total zonas\nzonas.count()","user":"anonymous","dateUpdated":"2018-07-27T23:09:38+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res4: Long = 696\n"}]},"apps":[],"jobName":"paragraph_1532456171044_-1957230956","id":"20180724-181611_696602921","dateCreated":"2018-07-24T18:16:11+0000","dateStarted":"2018-07-27T23:09:39+0000","dateFinished":"2018-07-27T23:09:43+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:197"},{"text":"//Se carga el GeoJson añadiendo diferentes columnas\nval departamentos = sqlContext.read\n      .format(\"magellan\")\n      .option(\"type\", \"geojson\")\n      .load(\"/files/Colombia3.geojson\")\n      .select($\"polygon\", \n       $\"metadata\"(\"DPTO\").as(\"ID\"),\n       $\"metadata\"(\"NOMBRE_DPT\").as(\"NOMBRE_DPT\"),\n       $\"metadata\"(\"AREA\").as(\"AREA\"),\n       $\"metadata\"(\"PERIMETER\").as(\"PERIMETER\"),\n       $\"metadata\"(\"HECTARES\").as(\"HECTARES\"))\n      .cache()","user":"anonymous","dateUpdated":"2018-07-27T23:09:54+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"departamentos: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [polygon: polygon, ID: string ... 4 more fields]\n"}]},"apps":[],"jobName":"paragraph_1532456301371_1725416949","id":"20180724-181821_230869099","dateCreated":"2018-07-24T18:18:21+0000","dateStarted":"2018-07-27T23:09:54+0000","dateFinished":"2018-07-27T23:09:55+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:198"},{"text":"//Total departamentos\ndepartamentos.count()","user":"anonymous","dateUpdated":"2018-07-27T23:09:58+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res7: Long = 36\n"}]},"apps":[],"jobName":"paragraph_1532457168882_-60967260","id":"20180724-183248_1762785086","dateCreated":"2018-07-24T18:32:48+0000","dateStarted":"2018-07-27T23:09:59+0000","dateFinished":"2018-07-27T23:10:00+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:199"},{"text":"departamentos.show()","user":"anonymous","dateUpdated":"2018-07-27T23:10:03+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------------+---+------------------+------------------+-----------+-----------+\n|             polygon| ID|        NOMBRE_DPT|              AREA|  PERIMETER|   HECTARES|\n+--------------------+---+------------------+------------------+-----------+-----------+\n|magellan.Polygon@...| 05|         ANTIOQUIA|6.3351855546895E10|1963728.843|6335185.555|\n|magellan.Polygon@...| 08|         Atlántico|  3.360765349961E9| 240936.172| 336076.535|\n|magellan.Polygon@...| 11|       Bogotá D.C.|  1.650947779134E9|  323322.54| 165094.778|\n|magellan.Polygon@...| 13|           Bolívar| 2.614189452775E10|1309427.968|2614189.453|\n|magellan.Polygon@...| 15|            Boyacá|2.3352582463939E10|1364539.911|2335258.246|\n|magellan.Polygon@...| 17|            CALDAS|  7.558199875556E9| 603282.457| 755819.988|\n|magellan.Polygon@...| 18|           Caquetá|9.0180868828821E10|1888506.901|9018086.883|\n|magellan.Polygon@...| 19|             CAUCA|2.9742787301199E10|1243388.952| 2974278.73|\n|magellan.Polygon@...| 19|             CAUCA|2.9742787301199E10|1243388.952| 2974278.73|\n|magellan.Polygon@...| 20|             CESAR|2.2973095679788E10|1080343.678|2297309.568|\n|magellan.Polygon@...| 23|           CORDOBA|2.5059485605512E10| 814093.372|2505948.561|\n|magellan.Polygon@...| 25|      CUNDINAMARCA|2.2800258637523E10|1164175.024|2280025.864|\n|magellan.Polygon@...| 27|             CHOCO| 4.683852262987E10|1797897.873|4683852.263|\n|magellan.Polygon@...| 41|             HUILA|2.0318702519012E10| 929144.166|2031870.252|\n|magellan.Polygon@...| 44|        LA GUAJIRA| 2.101234966045E10|  936598.02|2101234.966|\n|magellan.Polygon@...| 47|         MAGDALENA|2.2846394629859E10|  916642.47|2284639.463|\n|magellan.Polygon@...| 50|              META|8.5389685783838E10|1680541.812|8538968.578|\n|magellan.Polygon@...| 52|            NARIÑO|3.3283045970747E10|1015680.966|3328304.597|\n|magellan.Polygon@...| 54|NORTE DE SANTANDER|2.1443330911239E10| 914288.244|2144333.091|\n|magellan.Polygon@...| 63|           QUINDIO|  1.732025801293E9| 207948.857|  173202.58|\n+--------------------+---+------------------+------------------+-----------+-----------+\nonly showing top 20 rows\n\n"}]},"apps":[],"jobName":"paragraph_1532457185131_-2128592525","id":"20180724-183305_571578431","dateCreated":"2018-07-24T18:33:05+0000","dateStarted":"2018-07-27T23:10:03+0000","dateFinished":"2018-07-27T23:10:04+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:200"},{"text":" //Join entre las zonas y departamentos\n val joined = zonas.join(departamentos)\n        .where($\"point\" within $\"polygon\")","user":"anonymous","dateUpdated":"2018-07-27T23:10:14+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"joined: org.apache.spark.sql.Dataset[org.apache.spark.sql.Row] = [No: int, PROYECTO: string ... 24 more fields]\n"}]},"apps":[],"jobName":"paragraph_1532457240761_1040107471","id":"20180724-183400_893243673","dateCreated":"2018-07-24T18:34:00+0000","dateStarted":"2018-07-27T23:10:14+0000","dateFinished":"2018-07-27T23:10:15+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:201"},{"text":"joined.count()","user":"anonymous","dateUpdated":"2018-07-27T23:10:18+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"res11: Long = 694\n"}]},"apps":[],"jobName":"paragraph_1532457430978_-2130179138","id":"20180724-183710_352228436","dateCreated":"2018-07-24T18:37:10+0000","dateStarted":"2018-07-27T23:10:18+0000","dateFinished":"2018-07-27T23:10:19+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:202"},{"text":"joined.printSchema()","user":"anonymous","dateUpdated":"2018-07-27T23:10:21+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"root\n |-- No: integer (nullable = true)\n |-- PROYECTO: string (nullable = true)\n |-- CATEGORIA_DE_DEPARTAMENTO: string (nullable = true)\n |-- CATEGORIA_DE_MUNICIPIO: string (nullable = true)\n |-- REGION: string (nullable = true)\n |-- CODIGO_DANE_DEL_DEPARTAMENTO: integer (nullable = true)\n |-- DEPARTAMENTO: string (nullable = true)\n |-- CODIGO_DANE_DEL_MUNICIPIO: integer (nullable = true)\n |-- MUNICIPIO: string (nullable = true)\n |-- LOCALIDAD/TRONCAL: string (nullable = true)\n |-- CANTIDAD: integer (nullable = true)\n |-- NOMBRE_ZONA_WIFI: string (nullable = true)\n |-- ID_ZONA_WIFI: integer (nullable = true)\n |-- DIRECCION: string (nullable = true)\n |-- LONGITUD: double (nullable = true)\n |-- LATITUD: double (nullable = true)\n |-- FECHA_DE_APROBACION: string (nullable = true)\n |-- ESTADO_DE_LA_ZONA: string (nullable = true)\n |-- ZONA_INAGURADA: string (nullable = true)\n |-- point: point (nullable = false)\n |-- polygon: polygon (nullable = true)\n |-- ID: string (nullable = true)\n |-- NOMBRE_DPT: string (nullable = true)\n |-- AREA: string (nullable = true)\n |-- PERIMETER: string (nullable = true)\n |-- HECTARES: string (nullable = true)\n\n"}]},"apps":[],"jobName":"paragraph_1532457438105_-566544284","id":"20180724-183718_1167059187","dateCreated":"2018-07-24T18:37:18+0000","dateStarted":"2018-07-27T23:10:22+0000","dateFinished":"2018-07-27T23:10:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:203"},{"text":"//Departaments con más zonas wifi\njoined\n      .groupBy('NOMBRE_DPT)\n      .count()\n      .orderBy($\"count\".desc).show()","user":"anonymous","dateUpdated":"2018-07-27T23:10:32+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+------------+-----+\n|  NOMBRE_DPT|count|\n+------------+-----+\n|   ANTIOQUIA|  153|\n|   Atlántico|  119|\n|       CESAR|   93|\n| Bogotá D.C.|   89|\n|CUNDINAMARCA|   56|\n|      Boyacá|   49|\n|   MAGDALENA|   34|\n|     Bolívar|   26|\n|       CAUCA|   22|\n|      TOLIMA|   22|\n|     Caquetá|   19|\n|      CALDAS|    6|\n|   SANTANDER|    3|\n|       Cauca|    2|\n|  LA GUAJIRA|    1|\n+------------+-----+\n\n"}]},"apps":[],"jobName":"paragraph_1532457516674_1103189322","id":"20180724-183836_957394499","dateCreated":"2018-07-24T18:38:36+0000","dateStarted":"2018-07-27T23:10:32+0000","dateFinished":"2018-07-27T23:10:37+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:205"},{"text":"//Vistas temporales para consultas SQL\nzonas.createOrReplaceTempView(\"zonas\")\ndepartamentos.createOrReplaceTempView(\"departamentos\")\njoined.createOrReplaceTempView(\"joined\")","user":"anonymous","dateUpdated":"2018-07-27T23:10:48+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1532457464450_-1854452094","id":"20180724-183744_1751402992","dateCreated":"2018-07-24T18:37:44+0000","dateStarted":"2018-07-27T23:10:48+0000","dateFinished":"2018-07-27T23:10:49+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:206"},{"text":"%spark2.sql\n\n-- Resultado cuantas zonas hay en cada departamento del GeoJson\nselect NOMBRE_DPT,count(*) as total from joined group by NOMBRE_DPT order by total desc","user":"anonymous","dateUpdated":"2018-07-27T23:10:54+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"pieChart","height":278,"optionOpen":false},"helium":{}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"NOMBRE_DPT\ttotal\nANTIOQUIA\t153\nAtlántico\t119\nCESAR\t93\nBogotá D.C.\t89\nCUNDINAMARCA\t56\nBoyacá\t49\nMAGDALENA\t34\nBolívar\t26\nCAUCA\t22\nTOLIMA\t22\nCaquetá\t19\nCALDAS\t6\nSANTANDER\t3\nCauca\t2\nLA GUAJIRA\t1\n"}]},"apps":[],"jobName":"paragraph_1532457496761_-1390398948","id":"20180724-183816_779836625","dateCreated":"2018-07-24T18:38:16+0000","dateStarted":"2018-07-27T23:10:55+0000","dateFinished":"2018-07-27T23:10:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:207"},{"text":"%spark2.sql\n\n-- Total zonas wifi por departamento según el dataset original\nselect DEPARTAMENTO,count(*) as total from joined group by DEPARTAMENTO order by total desc limit 20","user":"anonymous","dateUpdated":"2018-07-27T23:10:59+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"pieChart","height":282,"optionOpen":false},"helium":{}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"DEPARTAMENTO\ttotal\nBogotá D.C.\t163\nAntioquia\t156\nAtlántico\t150\nCesar\t95\nBoyacá\t50\nBolívar\t28\nCauca\t24\nCaquetá\t19\nCaldas\t9\n"}]},"apps":[],"jobName":"paragraph_1532457814912_-1745646421","id":"20180724-184334_1134739168","dateCreated":"2018-07-24T18:43:34+0000","dateStarted":"2018-07-27T23:11:00+0000","dateFinished":"2018-07-27T23:11:02+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:208"},{"text":"%spark2.sql\n\n-- Total departamentos que tienen zonas wifi (GeoJson)\nselect count(distinct(NOMBRE_DPT)) as total from joined","user":"anonymous","dateUpdated":"2018-07-27T23:11:04+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":106,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"total\n15\n"}]},"apps":[],"jobName":"paragraph_1532457698560_616156867","id":"20180724-184138_1647516074","dateCreated":"2018-07-24T18:41:38+0000","dateStarted":"2018-07-27T23:11:04+0000","dateFinished":"2018-07-27T23:11:06+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:209"},{"text":"%spark2.sql\n\n-- Total departamentos que tienen zonas wifi (csv)\nselect count(distinct(DEPARTAMENTO)) as total from joined","user":"anonymous","dateUpdated":"2018-07-27T23:11:06+0000","config":{"colWidth":6,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":102,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"total\n9\n"}]},"apps":[],"jobName":"paragraph_1532458046567_601643678","id":"20180724-184726_937739434","dateCreated":"2018-07-24T18:47:26+0000","dateStarted":"2018-07-27T23:11:07+0000","dateFinished":"2018-07-27T23:11:09+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:210"},{"text":"%md\n\n### Causas del error\n\nEl resultado difiere ya que los polígonos del GeoJson no concuerdan con las verdaderas formas de los departamentos.\n\n\n<p align=\"center\">\n    <img  src=\"https://i.imgur.com/IGmzwis.png\" style=\"width: 30%; height: 30%\">\n</p>\n\nPor ejemplo según el análisis con el GeoJson, existe una zona wifi en el departamento de La Guajira, pero revisando este registro en el dataset realmente se encuantra en el municipio La paz en el departamento del Cesar\n\n<p align=\"center\">\n    <img  src=\"https://i.imgur.com/GXlvNBc.png\" style=\"width: 30%; height: 30%\">\n</p>\n\n","user":"anonymous","dateUpdated":"2018-07-27T23:03:05+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown","editorHide":true,"tableHide":false},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1532731822884_-799682268","id":"20180727-225022_2132530600","dateCreated":"2018-07-27T22:50:22+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3726","dateFinished":"2018-07-27T23:03:05+0000","dateStarted":"2018-07-27T23:03:05+0000","results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<h3>Causas del error</h3>\n<p>El resultado difiere ya que los polígonos del GeoJson no concuerdan con las verdaderas formas de los departamentos.</p>\n<p align=\"center\">\n    <img  src=\"https://i.imgur.com/IGmzwis.png\" style=\"width: 30%; height: 30%\">\n</p>\n<p>Por ejemplo según el análisis con el GeoJson, existe una zona wifi en el departamento de La Guajira, pero revisando este registro en el dataset realmente se encuantra en el municipio La paz en el departamento del Cesar</p>\n<p align=\"center\">\n    <img  src=\"https://i.imgur.com/GXlvNBc.png\" style=\"width: 30%; height: 30%\">\n</p>\n"}]}},{"text":"%spark2.sql\n\n-- Resultados erroneos\nselect LONGITUD,LATITUD,DEPARTAMENTO AS DEPARTAMENTO_REAL,NOMBRE_DPT AS DEPARTAMENTO_GeoJson from joined where LCASE(DEPARTAMENTO)!=LCASE(NOMBRE_DPT)","user":"anonymous","dateUpdated":"2018-07-27T23:11:12+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"LONGITUD\tLATITUD\tDEPARTAMENTO_REAL\tDEPARTAMENTO_GeoJson\n-74.401864\t6.489555\tAntioquia\tSANTANDER\n-74.581652\t6.187869\tAntioquia\tBoyacá\n-74.640555\t5.868611\tAntioquia\tBoyacá\n-74.788949\t10.987977\tAtlántico\tMAGDALENA\n-74.793825\t10.99495\tAtlántico\tMAGDALENA\n-74.790671\t10.993073\tAtlántico\tMAGDALENA\n-74.811678\t11.020388\tAtlántico\tMAGDALENA\n-74.807481\t11.015061\tAtlántico\tMAGDALENA\n-74.788567\t10.998823\tAtlántico\tMAGDALENA\n-74.791444\t11.00112\tAtlántico\tMAGDALENA\n-74.8096\t11.021712\tAtlántico\tMAGDALENA\n-74.784782\t10.994366\tAtlántico\tMAGDALENA\n-74.778521\t10.989458\tAtlántico\tMAGDALENA\n-74.79577\t11.002579\tAtlántico\tMAGDALENA\n-74.826258\t11.041021\tAtlántico\tMAGDALENA\n-74.772637\t10.94995\tAtlántico\tMAGDALENA\n-74.806302\t11.024362\tAtlántico\tMAGDALENA\n-74.769426\t10.995634\tAtlántico\tMAGDALENA\n-74.778323\t10.980367\tAtlántico\tMAGDALENA\n-74.777577\t10.986365\tAtlántico\tMAGDALENA\n-74.775848\t10.986127\tAtlántico\tMAGDALENA\n-74.81614\t11.021356\tAtlántico\tMAGDALENA\n-74.771782\t10.969213\tAtlántico\tMAGDALENA\n-74.771304\t10.998045\tAtlántico\tMAGDALENA\n-74.777671\t10.979989\tAtlántico\tMAGDALENA\n-74.777845\t10.97597\tAtlántico\tMAGDALENA\n-74.777721\t10.982747\tAtlántico\tMAGDALENA\n-74.800693\t11.023386\tAtlántico\tMAGDALENA\n-74.764377\t10.915675\tAtlántico\tMAGDALENA\n-74.769113\t10.924791\tAtlántico\tMAGDALENA\n-74.771656\t10.926402\tAtlántico\tMAGDALENA\n-74.774167\t10.928167\tAtlántico\tMAGDALENA\n-74.881013\t10.33235\tAtlántico\tMAGDALENA\n-74.881972\t10.328306\tAtlántico\tMAGDALENA\n-74.025788\t4.742531\tBogotá D.C.\tCUNDINAMARCA\n-73.950415\t8.989014\tBolívar\tMAGDALENA\n-75.147234\t10.404285\tBolívar\tAtlántico\n-73.932747\t5.730153\tBoyacá\tSANTANDER\n-74.676458\t5.476772\tCaldas\tCUNDINAMARCA\n-74.680345\t5.4766\tCaldas\tCUNDINAMARCA\n-74.671521\t5.449772\tCaldas\tCUNDINAMARCA\n-74.793825\t10.99495\tCesar\tMAGDALENA\n-73.36358\t5.9069\tBoyacá\tSANTANDER\n-73.77163\t5.223201\tBoyacá\tCUNDINAMARCA\n-74.74761\t10.638284\tAtlántico\tMAGDALENA\n-73.172777\t10.387777\tCesar\tLA GUAJIRA\n-74.65445\t4.646983\tBogotá D.C.\tCUNDINAMARCA\n-74.75494\t4.611518\tBogotá D.C.\tCUNDINAMARCA\n-74.71686\t4.617832\tBogotá D.C.\tCUNDINAMARCA\n-74.71686\t4.617835\tBogotá D.C.\tCUNDINAMARCA\n-74.69484\t4.627443\tBogotá D.C.\tCUNDINAMARCA\n-74.66291\t4.644569\tBogotá D.C.\tCUNDINAMARCA\n-74.64725\t4.649245\tBogotá D.C.\tCUNDINAMARCA\n-74.6218\t4.657397\tBogotá D.C.\tCUNDINAMARCA\n-74.61092\t4.663867\tBogotá D.C.\tCUNDINAMARCA\n-74.62823\t4.655366\tBogotá D.C.\tCUNDINAMARCA\n-74.67001\t4.63848\tBogotá D.C.\tCUNDINAMARCA\n-74.65445\t4.646983\tBogotá D.C.\tCUNDINAMARCA\n-74.84392\t4.597473\tBogotá D.C.\tTOLIMA\n-74.5168\t4.720107\tBogotá D.C.\tCUNDINAMARCA\n-74.57221\t4.684884\tBogotá D.C.\tCUNDINAMARCA\n-74.55972\t4.693194\tBogotá D.C.\tCUNDINAMARCA\n-74.541499\t4.70515\tBogotá D.C.\tCUNDINAMARCA\n-74.59723\t4.671844\tBogotá D.C.\tCUNDINAMARCA\n-74.50759\t4.726804\tBogotá D.C.\tCUNDINAMARCA\n-74.50214\t4.733242\tBogotá D.C.\tCUNDINAMARCA\n-74.54687\t4.69842\tBogotá D.C.\tCUNDINAMARCA\n-74.46086\t4.754511\tBogotá D.C.\tCUNDINAMARCA\n-74.47087\t4.746386\tBogotá D.C.\tCUNDINAMARCA\n-74.58382\t4.67708\tBogotá D.C.\tCUNDINAMARCA\n-74.80828\t4.735343\tBogotá D.C.\tCUNDINAMARCA\n-74.73155\t4.727953\tBogotá D.C.\tCUNDINAMARCA\n-74.72788\t4.714522\tBogotá D.C.\tCUNDINAMARCA\n-74.90793\t4.742272\tBogotá D.C.\tTOLIMA\n-74.9488\t4.746301\tBogotá D.C.\tTOLIMA\n-74.72788\t4.714523\tBogotá D.C.\tCUNDINAMARCA\n-74.64511\t4.680825\tBogotá D.C.\tCUNDINAMARCA\n-74.66904\t4.676917\tBogotá D.C.\tCUNDINAMARCA\n-74.70065\t4.699542\tBogotá D.C.\tCUNDINAMARCA\n-74.89675\t4.739893\tBogotá D.C.\tTOLIMA\n-74.74855\t4.722172\tBogotá D.C.\tCUNDINAMARCA\n-74.72788\t4.714523\tBogotá D.C.\tCUNDINAMARCA\n-74.63253\t4.684218\tBogotá D.C.\tCUNDINAMARCA\n-74.87276\t4.694174\tBogotá D.C.\tTOLIMA\n-74.73874\t4.678123\tBogotá D.C.\tCUNDINAMARCA\n-74.77413\t4.681986\tBogotá D.C.\tCUNDINAMARCA\n-74.69312\t4.675245\tBogotá D.C.\tCUNDINAMARCA\n-74.84287\t4.690709\tBogotá D.C.\tTOLIMA\n-74.64654\t4.670514\tBogotá D.C.\tCUNDINAMARCA\n-74.79896\t4.630774\tBogotá D.C.\tCUNDINAMARCA\n-74.81829\t4.6242\tBogotá D.C.\tCUNDINAMARCA\n-74.79029\t4.643556\tBogotá D.C.\tCUNDINAMARCA\n-74.78301\t4.650538\tBogotá D.C.\tCUNDINAMARCA\n-74.9526\t4.604434\tBogotá D.C.\tTOLIMA\n-74.70765\t4.670886\tBogotá D.C.\tCUNDINAMARCA\n-74.89675\t4.615754\tBogotá D.C.\tTOLIMA\n-74.77572\t4.657827\tBogotá D.C.\tCUNDINAMARCA\n-74.89168\t4.600074\tBogotá D.C.\tTOLIMA\n-74.79409\t4.637145\tBogotá D.C.\tCUNDINAMARCA\n-74.99954\t4.621286\tBogotá D.C.\tTOLIMA\n-74.9408\t4.616478\tBogotá D.C.\tTOLIMA\n-74.8226\t4.605742\tBogotá D.C.\tCUNDINAMARCA\n-74.827\t4.60625\tBogotá D.C.\tCUNDINAMARCA\n-74.94277\t4.616533\tBogotá D.C.\tTOLIMA\n-74.9922\t4.605069\tBogotá D.C.\tTOLIMA\n-74.99315\t4.583165\tBogotá D.C.\tTOLIMA\n-74.89913\t4.591115\tBogotá D.C.\tTOLIMA\n-74.8626\t4.59521\tBogotá D.C.\tTOLIMA\n-74.8527\t4.590426\tBogotá D.C.\tTOLIMA\n-74.83889\t4.631822\tBogotá D.C.\tTOLIMA\n-74.89829\t4.634358\tBogotá D.C.\tTOLIMA\n-74.81175\t4.594933\tBogotá D.C.\tCUNDINAMARCA\n-74.93713\t4.579097\tBogotá D.C.\tTOLIMA\n-74.98543\t4.571767\tBogotá D.C.\tTOLIMA\n-74.72092\t4.710989\tBogotá D.C.\tCUNDINAMARCA\n-74.74624\t4.606066\tBogotá D.C.\tCUNDINAMARCA\n-74.95916\t4.5751\tBogotá D.C.\tTOLIMA\n-74.72093\t4.609865\tBogotá D.C.\tCUNDINAMARCA\n-74.020867\t4.668237\tBogotá D.C.\tCUNDINAMARCA\n"}]},"apps":[],"jobName":"paragraph_1532464960254_-628248448","id":"20180724-204240_303313427","dateCreated":"2018-07-24T20:42:40+0000","dateStarted":"2018-07-27T23:11:12+0000","dateFinished":"2018-07-27T23:11:13+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:212"},{"text":"%spark2.sql\n\nselect count(*) as TotalErrores from joined where LCASE(DEPARTAMENTO)!=LCASE(NOMBRE_DPT)","user":"anonymous","dateUpdated":"2018-07-27T23:11:44+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":84,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"TotalErrores\n119\n"}]},"apps":[],"jobName":"paragraph_1532465040472_226168301","id":"20180724-204400_92917076","dateCreated":"2018-07-24T20:44:00+0000","dateStarted":"2018-07-27T23:11:39+0000","dateFinished":"2018-07-27T23:11:40+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:213"},{"text":"%spark2.sql\n\nselect * from joined where NOMBRE_DPT=\"LA GUAJIRA\"","user":"anonymous","dateUpdated":"2018-07-27T23:11:55+0000","config":{"colWidth":12,"enabled":true,"results":{"0":{"graph":{"mode":"table","height":104,"optionOpen":false}}},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"No\tPROYECTO\tCATEGORIA_DE_DEPARTAMENTO\tCATEGORIA_DE_MUNICIPIO\tREGION\tCODIGO_DANE_DEL_DEPARTAMENTO\tDEPARTAMENTO\tCODIGO_DANE_DEL_MUNICIPIO\tMUNICIPIO\tLOCALIDAD/TRONCAL\tCANTIDAD\tNOMBRE_ZONA_WIFI\tID_ZONA_WIFI\tDIRECCION\tLONGITUD\tLATITUD\tFECHA_DE_APROBACION\tESTADO_DE_LA_ZONA\tZONA_INAGURADA\tpoint\tpolygon\tID\tNOMBRE_DPT\tAREA\tPERIMETER\tHECTARES\n1242\tZONAS WIFI GRATIS PARA LA GENTE\t2\t6\tRegión Caribe\t20\tCesar\t20621\tLa Paz\tN/A\t1\tPolideportivo José Abraham Atuesta \t2062109002\tCalle 4 con Carrera 5\t-73.172777\t10.387777\t22/03/2018\tOPERATIVA\tSI\tPoint(-73.172777, 10.387777)\tmagellan.Polygon@85a07cc2\t44\tLA GUAJIRA\t2.101234966045E10\t936598.02\t2101234.966\n"}]},"apps":[],"jobName":"paragraph_1532467906807_736633213","id":"20180724-213146_227850561","dateCreated":"2018-07-24T21:31:46+0000","dateStarted":"2018-07-27T23:11:50+0000","dateFinished":"2018-07-27T23:11:51+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:214"},{"text":"%spark2.sql\n","user":"anonymous","dateUpdated":"2018-07-24T21:48:31+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"sql"},"editorMode":"ace/mode/sql"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1532468911661_954262052","id":"20180724-214831_1016249830","dateCreated":"2018-07-24T21:48:31+0000","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:215"}],"name":"Test2","id":"2DJCZXA4G","angularObjects":{"2CHS8UYQQ:shared_process":[],"2C8A4SZ9T_livy2:shared_process":[],"2CK8A9MEG:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2CKAY1A8Y:shared_process":[],"2CKEKWY8Z:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}